<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMG STRIKE | ضربة المامجي</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --neon: #00f2ff; --magenta: #ff00ff; --table-bg: #08080c; }
        
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; font-family: 'Cairo', sans-serif; }

        /* الطاولة الرقمية */
        .table {
            width: 100%; height: 100%;
            background: radial-gradient(circle, #151525 0%, #000 100%);
            position: relative; perspective: 1000px;
        }

        /* العدادات (HUD) */
        .hud {
            position: absolute; top: 30px; width: 100%; padding: 0 5%;
            display: flex; justify-content: space-between; z-index: 100;
            font-family: 'Orbitron'; color: var(--neon);
        }

        /* البطاقة الرقمية */
        .card {
            width: 130px; height: 180px;
            background: #111; border: 2px solid var(--neon); border-radius: 12px;
            position: absolute; top: 40%; left: 50%;
            transform: translate(-50%, -50%) rotateZ(5deg);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.2);
            font-weight: bold; font-size: 20px; color: var(--neon);
        }

        .card.flipped {
            transform: translate(-50%, -50%) rotateX(180deg) rotateZ(-10deg);
            border-color: var(--magenta); color: var(--magenta);
            box-shadow: 0 0 25px rgba(255, 0, 255, 0.4);
        }

        /* اليد الرقمية (The Striking Hand) */
        .hand-trigger {
            position: absolute; width: 250px; height: 250px;
            bottom: -300px; left: 50%; transform: translateX(-50%);
            background: url('https://cdn-icons-png.flaticon.com/512/3021/3021814.png'); /* يد افتراضية */
            background-size: contain; background-repeat: no-repeat;
            z-index: 200; pointer-events: none; transition: 0.2s;
            filter: drop-shadow(0 0 20px var(--neon));
        }

        .hand-anim { animation: strike-action 0.4s ease-out forwards; }

        @keyframes strike-action {
            0% { bottom: -300px; transform: translateX(-50%) scale(1); }
            50% { bottom: 40%; transform: translateX(-50%) scale(1.3); } /* لحظة الاصطدام */
            100% { bottom: -300px; transform: translateX(-50%) scale(1); }
        }

        /* تأثير اهتزاز الشاشة */
        .shake { animation: shake-screen 0.2s; }
        @keyframes shake-screen {
            0% { transform: translate(1px, 1px); }
            50% { transform: translate(-2px, -2px); }
            100% { transform: translate(0, 0); }
        }

        .click-anywhere {
            position: absolute; bottom: 30px; width: 100%; text-align: center;
            color: #444; font-size: 14px; text-transform: uppercase; letter-spacing: 2px;
        }
    </style>
</head>
<body onclick="triggerStrike()">

<div class="table" id="table-node">
    <div class="hud">
        <div>ROUND: <span id="round">1</span>/3</div>
        <div>STRIKES: <span id="score">0</span></div>
    </div>

    <div id="target-card" class="card">MAMG</div>

    <div class="hand-trigger" id="hand"></div>

    <div class="click-anywhere">اضغط في أي مكان لضرب البطاقة</div>
</div>

<script>
    let strikes = 0;
    let isProcessing = false;

    function triggerStrike() {
        if (isProcessing) return;
        isProcessing = true;

        const hand = document.getElementById('hand');
        const card = document.getElementById('target-card');
        const table = document.getElementById('table-node');
        const scoreEl = document.getElementById('score');

        // تشغيل أنيميشن اليد
        hand.classList.remove('hand-anim');
        void hand.offsetWidth; // ريسيت للأنيميشن
        hand.classList.add('hand-anim');

        // توقيت الاصطدام (عندما تصل اليد للبطاقة)
        setTimeout(() => {
            table.classList.add('shake');
            
            // حساب احتمالية قلب البطاقة بناءً على "قوة الضربة"
            const hitPower = Math.random();
            if (hitPower > 0.4 && !card.classList.contains('flipped')) {
                card.classList.add('flipped');
                strikes++;
                scoreEl.innerText = strikes;
            } else if (card.classList.contains('flipped')) {
                // إذا كانت مقلوبة، هناك احتمال لتعود لوضعها الأصلي
                if (hitPower > 0.7) card.classList.remove('flipped');
            }

            setTimeout(() => table.classList.remove('shake'), 200);
        }, 200);

        setTimeout(() => isProcessing = false, 400);
    }
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE ARENA | الحلبة</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --cyan: #00f2ff; --magenta: #ff00ff; --bg: #020205; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Cairo', sans-serif; overflow: hidden; }

        /* HUD - العدادات العلوية */
        .hud {
            position: fixed; top: 20px; width: 100%; display: flex;
            justify-content: space-around; z-index: 100; pointer-events: none;
        }
        .stat-box {
            background: rgba(0,0,0,0.6); border: 2px solid var(--cyan);
            padding: 5px 30px; border-radius: 30px; box-shadow: 0 0 15px var(--cyan);
            text-align: center; font-family: 'Orbitron';
        }

        /* حلبة اللعب */
        #game-canvas { position: absolute; top: 0; left: 0; cursor: pointer; }

        /* اليد الرقمية (تصميم مستقبلي) */
        #striking-hand {
            position: absolute; width: 250px; pointer-events: none;
            z-index: 50; display: none; filter: drop-shadow(0 0 10px var(--cyan));
        }

        /* شريط القوة (Progress Bar) */
        .power-bar {
            position: fixed; right: 20px; top: 50%; transform: translateY(-50%);
            width: 15px; height: 200px; background: #111; border: 1px solid var(--cyan);
            border-radius: 10px; overflow: hidden;
        }
        .power-fill { height: 70%; width: 100%; background: var(--cyan); box-shadow: 0 0 10px var(--cyan); }

        /* الزر السفلي (غامض) */
        .action-gate {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: none; border: 2px solid var(--cyan); color: white;
            padding: 10px 40px; border-radius: 20px; font-weight: bold;
            box-shadow: 0 0 10px var(--cyan); cursor: pointer;
        }
    </style>
</head>
<body onclick="handleStrike(event)">

    <div class="hud">
        <div class="stat-box"><div>الشحاق</div><div id="p1-score">10</div></div>
        <div class="stat-box" style="border-color: white; box-shadow: 0 0 15px #fff;"><div>الشحاق</div><div>10</div></div>
    </div>

    <div class="power-bar"><div class="power-fill"></div></div>

    <canvas id="game-canvas"></canvas>

    <img id="striking-hand" src="https://i.imgur.com/your-robot-hand.png" alt="hand">

    <button class="action-gate">الغي مينية العور!</button>

    <script>
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let cards = [
            { x: canvas.width/2, y: canvas.height/2, flipped: false, angle: 0 },
            { x: canvas.width/2 + 20, y: canvas.height/2 + 10, flipped: false, angle: 5 }
        ];

        function drawArena() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // رسم البطاقات بتأثير الظل والـ 3D
            cards.forEach(card => {
                ctx.save();
                ctx.translate(card.x, card.y);
                ctx.rotate(card.angle * Math.PI / 180);
                
                // ظل البطاقة
                ctx.shadowBlur = 15;
                ctx.shadowColor = card.flipped ? "#ff00ff" : "#00f2ff";
                
                // جسم البطاقة
                ctx.fillStyle = "#111";
                ctx.strokeStyle = card.flipped ? "#ff00ff" : "#00f2ff";
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.roundRect(-60, -85, 120, 170, 10);
                ctx.fill();
                ctx.stroke();
                
                // شعار البطاقة
                ctx.fillStyle = card.flipped ? "#ff00ff" : "#00f2ff";
                ctx.font = "bold 20px Cairo";
                ctx.fillText("MAMG", -35, 10);
                
                ctx.restore();
            });
            requestAnimationFrame(drawArena);
        }

        function handleStrike(e) {
            // 1. تأثير الانفجار الضوئي (مثل Marvel Snap)
            createExplosion(e.clientX, e.clientY);

            // 2. فحص التصادم مع البطاقات
            cards.forEach(card => {
                const dist = Math.hypot(card.x - e.clientX, card.y - e.clientY);
                if (dist < 150) {
                    card.flipped = !card.flipped; // قلب البطاقة
                    card.angle += (Math.random() - 0.5) * 40; // تحريك الزاوية
                }
            });

            // 3. اهتزاز الكاميرا
            document.body.style.transform = `translate(${(Math.random()-0.5)*10}px, ${(Math.random()-0.5)*10}px)`;
            setTimeout(() => document.body.style.transform = 'none', 100);
        }

        function createExplosion(x, y) {
            // هنا نبرمج جزيئات النيون (VFX)
            ctx.beginPath();
            ctx.arc(x, y, 50, 0, Math.PI*2);
            ctx.fillStyle = "rgba(0, 242, 255, 0.3)";
            ctx.fill();
        }

        drawArena();
    </script>
</body>
</html>
